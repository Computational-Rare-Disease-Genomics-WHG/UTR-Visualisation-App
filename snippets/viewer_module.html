<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <title>UTR Visualisation App</title>
      <script src="https://d3js.org/d3.v7.min.js"></script>
   </head>
   <bod >
   <div id="utr-architechure-viewer"></div>
   </body>
   <script type="text/javascript">
               
      /************* Genomic Track *******************/

      /* gene_features is test data */
      var gene_features = {'gene_start': 88717117, 'gene_end': 88904257, 'start_codon': 88823786, 'strand': '-', 'features': [{'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'transcript', 'start': 88717117, 'end': 88883184, 'score': null, 'strand': '-', 'phase': null, 'ID': 'ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENSG00000081189.16', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': null, 'exon_id': null, 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 166068}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88882955, 'end': 88883184, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:1', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 1.0, 'exon_id': 'ENSE00003900091.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 230}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88823735, 'end': 88823930, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:2', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 2.0, 'exon_id': 'ENSE00001427522.2', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 196}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88823735, 'end': 88823788, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 2.0, 'exon_id': 'ENSE00001427522.2', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 54}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'start_codon', 'start': 88823786, 'end': 88823788, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'start_codon:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 2.0, 'exon_id': 'ENSE00001427522.2', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 3}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88804598, 'end': 88804801, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:3', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 3.0, 'exon_id': 'ENSE00002383329.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 204}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88804598, 'end': 88804801, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 3.0, 'exon_id': 'ENSE00002383329.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 204}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88761185, 'end': 88761328, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:4', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 4.0, 'exon_id': 'ENSE00003627872.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 144}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88761185, 'end': 88761328, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 4.0, 'exon_id': 'ENSE00003627872.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 144}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88751857, 'end': 88752043, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:5', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 5.0, 'exon_id': 'ENSE00003468224.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 187}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88751857, 'end': 88752043, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 5.0, 'exon_id': 'ENSE00003468224.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 187}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88749070, 'end': 88749117, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:6', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 6.0, 'exon_id': 'ENSE00003533951.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 48}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88749070, 'end': 88749117, 'score': null, 'strand': '-', 'phase': 2.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 6.0, 'exon_id': 'ENSE00003533951.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 48}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88731729, 'end': 88731901, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 7.0, 'exon_id': 'ENSE00000870642.3', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 173}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88731729, 'end': 88731901, 'score': null, 'strand': '-', 'phase': 2.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 7.0, 'exon_id': 'ENSE00000870642.3', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 173}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88730211, 'end': 88730234, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:8', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 8.0, 'exon_id': 'ENSE00001631499.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 24}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88730211, 'end': 88730234, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 8.0, 'exon_id': 'ENSE00001631499.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 24}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88729218, 'end': 88729347, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:9', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 9.0, 'exon_id': 'ENSE00000870640.3', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 130}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88729218, 'end': 88729347, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 9.0, 'exon_id': 'ENSE00000870640.3', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 130}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88728493, 'end': 88728628, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:10', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 10.0, 'exon_id': 'ENSE00003462732.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 136}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88728493, 'end': 88728628, 'score': null, 'strand': '-', 'phase': 2.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 10.0, 'exon_id': 'ENSE00003462732.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 136}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'exon', 'start': 88717117, 'end': 88722925, 'score': null, 'strand': '-', 'phase': null, 'ID': 'exon:ENST00000504921.7:11', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NM_002397.5', 'exon_number': 11.0, 'exon_id': 'ENSE00002266008.4', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 5809}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'CDS', 'start': 88722604, 'end': 88722925, 'score': null, 'strand': '-', 'phase': 1.0, 'ID': 'CDS:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 11.0, 'exon_id': 'ENSE00002266008.4', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 322}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'stop_codon', 'start': 88722604, 'end': 88722606, 'score': null, 'strand': '-', 'phase': 0.0, 'ID': 'stop_codon:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': 'RefSeq:NP_002388.2', 'exon_number': 11.0, 'exon_id': 'ENSE00002266008.4', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 3}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'five_prime_UTR', 'start': 88882955, 'end': 88883184, 'score': null, 'strand': '-', 'phase': null, 'ID': 'UTR5:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': null, 'exon_number': 1.0, 'exon_id': 'ENSE00003900091.1', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 230}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'five_prime_UTR', 'start': 88823789, 'end': 88823930, 'score': null, 'strand': '-', 'phase': null, 'ID': 'UTR5:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': null, 'exon_number': 2.0, 'exon_id': 'ENSE00001427522.2', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 142}, {'seqid': 'chr5', 'source': 'ensembl_havana', 'type': 'three_prime_UTR', 'start': 88717117, 'end': 88722603, 'score': null, 'strand': '-', 'phase': null, 'ID': 'UTR3:ENST00000504921.7', 'gene_id': 'ENSG00000081189.16', 'gene_type': 'protein_coding', 'gene_name': 'MEF2C', 'Parent': 'ENST00000504921.7', 'transcript_id': 'ENST00000504921.7', 'transcript_type': 'protein_coding', 'transcript_name': 'MEF2C-209', 'tag': 'MANE_Select', 'protein_id': 'ENSP00000421925.5', 'Dbxref': null, 'exon_number': 11.0, 'exon_id': 'ENSE00002266008.4', 'ensembl_stable_gene_id': 'ENSG00000081189', 'width': 5487}]};
      var gene_start = gene_features["gene_start"];
      var gene_end = gene_features["gene_end"];

      // The data we want to view 
      track_features = gene_features["features"]

      // set the dimensions and margins of the graph
      var margin = {top: 20, right: 30, bottom: 40, left: 200},
         width = 1300 - margin.left - margin.right,
         height = 300 - margin.top - margin.bottom;

      // Create SVG Object
      var svg = d3.select("#utr-architechure-viewer")
      .append("svg")
         .attr("width", width + margin.left + margin.right)
         .attr("height", height + margin.top + margin.bottom)
      .append("g")
         .attr("transform",
               "translate(" + margin.left + "," + margin.top + ")");

      // Add X axis
      var x = d3.scaleLinear()
         .domain([gene_start, gene_end])
         .range([ 0, width]);
      svg.append("g")
         .call(d3.axisTop(x))
         .selectAll("text")
            .style("text-anchor", "end");

      // Add Y axis
      var y = d3.scaleBand()
         .range([ 0, height ])
         .domain(track_features.map(a => a.ID))
         .padding(.3);
      svg.append("g")
         .call(d3.axisLeft(y))

      // Create features for the bars
      svg.selectAll("maneFeatures")
         .data(track_features)
         .enter()
         .append("rect")
         .attr("x", function(d) {return x(d.start);})
         .attr("y", function(d) { return y(d.ID); })
         .attr("width", function(d) { return x(d.end) - x(d.start)+1})
         .attr("height", y.bandwidth()-3)
         .attr("fill", "#000000")
   </script>
</html>